{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","search","handleSearch","value","onChange","PersonForm","props","newName","handleNameChange","newNum","handleNumChange","type","onClick","addPerson","Persons","numbersList","deletePerson","map","person","name","number","id","baseUrl","getAll","a","request","axios","get","then","response","data","create","newObject","post","deleteId","delete","personService","update","put","Notification","message","className","App","useState","persons","setPersons","setNewName","setNewNum","setSearch","showAll","setShowAll","notification","setNotification","useEffect","initialList","filter","toLowerCase","includes","event","target","preventDefault","personObject","result","forEach","isDuplicateName","window","confirm","setTimeout","returnedPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9485f264.chunk.js","sourcesContent":["const Filter = ({ search, handleSearch }) => {\n  return (\n    <div>\n      filter shown with <input value={search} onChange={handleSearch} />\n    </div>\n  );\n};\n\nexport default Filter;\n","const PersonForm = ({ props }) => {\n  return (\n    <form>\n      <div>\n        name: <input value={props.newName} onChange={props.handleNameChange} />\n      </div>\n      <div>\n        number: <input value={props.newNum} onChange={props.handleNumChange} />\n      </div>\n      <div>\n        <button type=\"submit\" onClick={props.addPerson}>\n          add\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","const Persons = ({ numbersList, deletePerson }) => {\n  return (\n    <>\n      {numbersList.map((person) => (\n        <div key={person.number}>\n          {person.name} {person.number}{' '}\n          <button\n            onClick={() => {\n              deletePerson(person.id, person.name);\n            }}>\n            delete\n          </button>\n        </div>\n      ))}\n    </>\n  );\n};\n\nexport default Persons;\n","import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = async () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = async (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst deleteId = async (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request;\n};\n\nconst update = async (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nconst personService = { getAll, create, update, deleteId };\n\nexport default personService;\n","const Notification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n  return <div className=\"notification\">{message}</div>;\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport personService from './services/persons.js';\nimport Notification from './components/Notification';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNum, setNewNum] = useState('');\n  const [search, setSearch] = useState('');\n  const [showAll, setShowAll] = useState(true);\n  const [notification, setNotification] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then((initialList) => {\n      setPersons(initialList);\n    });\n  }, []);\n\n  const isDuplicateName = (persons) => {\n    let result = false;\n\n    persons.forEach((person) => {\n      if (person.name.toLowerCase() === newName.toLowerCase()) {\n        return (result = true);\n      }\n    });\n    return result;\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNum,\n      id: newName.toLowerCase()\n    };\n    if (newName && newNum && isDuplicateName(persons)) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one ?`\n        )\n      ) {\n        personService.update(newName.toLowerCase(), personObject);\n        setNotification(`Updated ${newName}'s number`);\n        setTimeout(() => {\n          setNotification(null);\n        }, 3000);\n      }\n    } else if (newName && newNum) {\n      personService.create(personObject).then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson));\n        setNewName('');\n        setNewNum('');\n      });\n      setNotification(`Added ${newName}`);\n      setTimeout(() => {\n        setNotification(null);\n      }, 3000);\n    }\n  };\n\n  const deletePerson = (id, name) => {\n    if (window.confirm(`Do you really want to delete ${name}?`)) {\n      personService.deleteId(id);\n      setPersons(persons.filter((person) => person.id !== id));\n    }\n  };\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumChange = (event) => {\n    setNewNum(event.target.value);\n  };\n\n  const handleSearch = (event) => {\n    setSearch(event.target.value);\n    setShowAll(false);\n  };\n\n  const numbersList = showAll\n    ? persons\n    : persons.filter((person) =>\n        person.name.toLowerCase().includes(search.toLowerCase())\n      );\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} />\n      <Filter search={search} handleSearch={handleSearch} />\n      <h3>Add a new</h3>\n      <PersonForm\n        props={{\n          newName,\n          handleNameChange,\n          newNum,\n          handleNumChange,\n          addPerson\n        }}\n      />\n      <h3>Numbers</h3>\n      <Persons numbersList={numbersList} deletePerson={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}