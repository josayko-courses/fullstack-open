(this.webpackJsonptemplate=this.webpackJsonptemplate||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var r=n(16),a=n.n(r),c=n(4),u=n(2),o=n(0),i=function(e){var t=e.search,n=e.handleSearch;return Object(o.jsxs)("div",{children:["filter shown with ",Object(o.jsx)("input",{value:t,onChange:n})]})},s=function(e){var t=e.props;return Object(o.jsxs)("form",{children:[Object(o.jsxs)("div",{children:["name: ",Object(o.jsx)("input",{value:t.newName,onChange:t.handleNameChange})]}),Object(o.jsxs)("div",{children:["number: ",Object(o.jsx)("input",{value:t.newNum,onChange:t.handleNumChange})]}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{type:"submit",onClick:t.addPerson,children:"add"})})]})},d=function(e){var t=e.numbersList,n=e.deletePerson;return Object(o.jsx)(o.Fragment,{children:t.map((function(e){return Object(o.jsxs)("div",{children:[e.name," ",e.number," ",Object(o.jsx)("button",{onClick:function(){n(e.id,e.name)},children:"delete"})]},e.number)}))})},l=n(3),j=n.n(l),b=n(5),f=n(6),h=n.n(f),p="https://fierce-sands-77875.herokuapp.com/api/persons",m=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.a.get(p),e.abrupt("return",t.then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.a.post(p,t),e.abrupt("return",n.then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.a.delete("".concat(p,"/").concat(t)),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w={getAll:m,create:O,update:function(){var e=Object(b.a)(j.a.mark((function e(t,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.a.put("".concat(p,"/").concat(t),n),e.abrupt("return",r.then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),deleteId:v},x=function(e){var t=e.message;return null===t?null:Object(o.jsx)("div",{className:"notification",children:t})},g=function(){var e=Object(u.useState)([]),t=Object(c.a)(e,2),n=t[0],r=t[1],a=Object(u.useState)(""),l=Object(c.a)(a,2),j=l[0],b=l[1],f=Object(u.useState)(""),h=Object(c.a)(f,2),p=h[0],m=h[1],O=Object(u.useState)(""),v=Object(c.a)(O,2),g=v[0],C=v[1],k=Object(u.useState)(!0),N=Object(c.a)(k,2),y=N[0],L=N[1],S=Object(u.useState)(null),P=Object(c.a)(S,2),A=P[0],E=P[1];Object(u.useEffect)((function(){w.getAll().then((function(e){r(e)}))}),[]);var I=y?n:n.filter((function(e){return e.name.toLowerCase().includes(g.toLowerCase())}));return Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Phonebook"}),Object(o.jsx)(x,{message:A}),Object(o.jsx)(i,{search:g,handleSearch:function(e){C(e.target.value),L(!1)}}),Object(o.jsx)("h3",{children:"Add a new"}),Object(o.jsx)(s,{props:{newName:j,handleNameChange:function(e){b(e.target.value)},newNum:p,handleNumChange:function(e){m(e.target.value)},addPerson:function(e){e.preventDefault();var t={name:j,number:p,id:j.toLowerCase()};j&&p&&function(e){var t=!1;return e.forEach((function(e){if(e.name.toLowerCase()===j.toLowerCase())return t=!0})),t}(n)?window.confirm("".concat(j," is already added to phonebook, replace the old number with a new one ?"))&&(w.update(j.toLowerCase(),t),E("Updated ".concat(j,"'s number")),setTimeout((function(){E(null)}),3e3)):j&&p&&(w.create(t).then((function(e){r(n.concat(e)),b(""),m("")})),E("Added ".concat(j)),setTimeout((function(){E(null)}),3e3))}}}),Object(o.jsx)("h3",{children:"Numbers"}),Object(o.jsx)(d,{numbersList:I,deletePerson:function(e,t){window.confirm("Do you really want to delete ".concat(t,"?"))&&(w.deleteId(e),r(n.filter((function(t){return t.id!==e}))))}})]})};n(41);a.a.render(Object(o.jsx)(g,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.c319731d.chunk.js.map